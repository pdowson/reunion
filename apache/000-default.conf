<VirtualHost *:8080>
    ServerAdmin webmaster@reunion.local
    ServerName reunion.local
    DocumentRoot /var/www/html/public

    ExpiresActive On
    ExpiresDefault A60

    ErrorLog /var/log/apache2/error.log

    LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined
    LogFormat "%{X-Forwarded-For}i %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" proxy
    SetEnvIf X-Forwarded-For "^.+" forwarded
    CustomLog /var/log/apache2/access.log combined env=!forwarded
    CustomLog /var/log/apache2/access.log proxy env=forwarded

</VirtualHost>

<IfModule mod_ssl.c>
    <VirtualHost *:8443>
        ServerAdmin webmaster@reunion.local
        ServerName reunion.local
        DocumentRoot /var/www/html/public

        ExpiresActive On
        ExpiresDefault A60

        ErrorLog /var/log/apache2/error.log

        LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined
        LogFormat "%{X-Forwarded-For}i %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" proxy
        SetEnvIf X-Forwarded-For "^.+" forwarded
        CustomLog /var/log/apache2/access.log combined env=!forwarded
        CustomLog /var/log/apache2/access.log proxy env=forwarded

        SSLEngine on
        SSLCertificateFile /etc/ssl/reunion.local.crt
        SSLCertificateKeyFile /etc/ssl/reunion.local.key

        <FilesMatch "\.(cgi|shtml|phtml|php)$">
            SSLOptions +StdEnvVars
        </FilesMatch>

        BrowserMatch "MSIE [2-6]" \
           nokeepalive ssl-unclean-shutdown \
           downgrade-1.0 force-response-1.0
     </VirtualHost>
</IfModule>


